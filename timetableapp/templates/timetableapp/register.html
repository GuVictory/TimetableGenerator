{% extends 'timetableapp/main.html' %}

{% block content %}

<div class="container-fluid d-flex p-4 min-vh-100 bg-light justify-content-center align-items-center">

		<div class="card p-4 shadow" style="height: max-content; min-width: 400px;">
			<div>
				<div class="d-flex justify-content-center mb-4">
					<h3 id="form-title" class='display-6'>Регистрация</h3>
				</div>

				<div class="d-flex justify-content-center w-100">

					<form method="POST" action="" class="w-100">
                     {% csrf_token %}
						<div class="input-group mb-3">
							{{form.username}}
						</div>

                        <div class="input-group mb-3">
							{{form.first_name}}
						</div>

                        <div class="input-group mb-3">
							{{form.last_name}}
						</div>

						<div class="input-group mb-3">
							{{form.email}}
						</div>
						
						<div class="input-group mb-3">
							{{form.password1}}
						</div>
						<div class="input-group mb-3">
							{{form.password2}}
						</div>

				   		<div class="d-flex justify-content-center mt-3 login_container">
				 			<input class="btn btn-primary" type="submit" value="Зарегистрироваться">
				   		</div>
					</form>
				</div>

				{% for message in messages %}
					<p id="messages">{{message}}</p>
				{% endfor %}

                {{form.errors}}

				<div class="mt-4">
					<div class="d-flex justify-content-center links">
						Уже есть аккаунт? <a href="{% url 'login' %}" class="ml-2">Войти</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		/* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
		//We start indexing at one because CSRF_token is considered and input field 
		*/

		//Query All input fields
		let form_fields = document.getElementsByTagName('input')
		form_fields[1].placeholder='Логин..';
		form_fields[2].placeholder='Имя..';
		form_fields[3].placeholder='Фамилия..';
		form_fields[4].placeholder='Email..';
		form_fields[5].placeholder='Пароль...';
		form_fields[6].placeholder='Повтор пароля...';


		for (let field in form_fields){	
			form_fields[field].className += ' form-control'
		}
	</script>

{% endblock %}

